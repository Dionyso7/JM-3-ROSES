import{j as s}from"./jsx-runtime.D_zvdyIk.js";import{r as m}from"./index.CjnEYGit.js";import{m as f}from"./proxy.DkMIEA8c.js";function u({handleShuffle:n,testimonial:i,position:r,id:c,author:l,floralImage:t}){const o=m.useRef(0),d=r==="front";return s.jsxs(f.div,{style:{zIndex:r==="front"?"2":r==="middle"?"1":"0"},animate:{zIndex:r==="front"?3:r==="middle"?2:1,x:r==="front"?"0%":r==="middle"?"-10%":"10%",scale:r==="front"?1:r==="middle"?.9:.8,rotate:r==="front"?"0deg":r==="middle"?"-5deg":"5deg"},drag:!0,dragElastic:.35,dragListener:d,dragConstraints:{top:0,left:0,right:0,bottom:0},onDragStart:e=>{o.current=e.clientX},onDragEnd:e=>{o.current-e.clientX>100&&n(),o.current=0},transition:{duration:.35},className:`absolute inset-0 w-full h-full flex flex-col items-center justify-start pt-12 md:pt-16 rounded-2xl border-2 border-slate-700 p-6 shadow-xl backdrop-blur-md ${d?"bg-[#fff0f5] cursor-grab active:cursor-grabbing":"bg-white/80"}`,children:[s.jsx("div",{className:"absolute -top-10 left-1/2 transform -translate-x-1/2",children:s.jsx("img",{src:t||`https://i.pravatar.cc/128?img=${c+10}`,alt:`Avatar of ${l}`,className:"pointer-events-none h-20 w-20 md:h-24 md:w-24 rounded-full border-2 border-slate-700 bg-slate-200 object-cover shadow-md"})}),s.jsxs("div",{className:"flex-1 w-full overflow-y-auto scrollbar-hide flex flex-col items-center justify-center space-y-4",children:[s.jsxs("span",{className:"text-center text-sm md:text-base italic text-slate-700 px-2 leading-relaxed",children:['"',i,'"']}),s.jsx("span",{className:"text-center text-xs md:text-sm font-bold text-slate-900 uppercase tracking-wider",children:l})]})]})}const x=[{id:1,testimonial:"Des fleurs magnifiques qui tiennent longtemps. Je recommande vivement !",author:"Sophie M."},{id:2,testimonial:"Un service impeccable et des compositions très créatives.",author:"Pierre D."},{id:3,testimonial:"Toujours un plaisir de passer à la boutique, l'accueil est top.",author:"Lucie B."}];function b({testimonials:n,floralImages:i}){const[r,c]=m.useState(["front","middle","back"]),l=i&&i.length>0?i:["/header-floral-strip.png"];let t=n&&n.length>0?n.map((e,a)=>({id:a+1,testimonial:e.text,author:e.author,floralImage:l[a%l.length]})):x.map((e,a)=>({...e,floralImage:l[a%l.length]}));t.length>0&&t.length<3&&(t.length===1?t=[...t,...t,...t]:t.length===2&&(t=[...t,t[0]]));const o=t.slice(0,3).map((e,a)=>({...e,id:a+1})),d=()=>{c(e=>{const a=[...e];return a.unshift(a.pop()),a})};return s.jsx("div",{className:"relative w-[75%] md:w-full mx-auto h-full max-w-[400px] aspect-[4/5]",children:o.map((e,a)=>s.jsx(u,{...e,handleShuffle:d,position:r[a]},e.id))})}export{b as ShuffleCards};
